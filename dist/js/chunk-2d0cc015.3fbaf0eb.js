(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cc015"],{"4ba2":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[t._m(0),e("div",{staticClass:"top-border animated fadeInUp",attrs:{id:"dashboard"}},[t.details?e("div",{staticClass:"card w-85"},[e("div",{staticClass:"search-banner"},[e("a",[e("div",{staticClass:"offset-8 event-thumb-img"},[e("div",{staticClass:"view overlay"},[e("img",{staticClass:"full-width search-img card-img-top",attrs:{src:t.getPic(t.details.bookImage),alt:""}})])])])]),e("div",{staticClass:"card-body"},[e("div",{staticClass:"row mx-auto",staticStyle:{width:"70%"}},[e("div",{staticClass:"col-4"},[e("h5",[t._v("Field")]),e("p",[t._v(t._s(t.details.field))])]),e("div",{staticClass:"col-4"},[e("h5",[t._v("Type")]),e("p",[t._v(t._s(t.details.type))])]),e("div",{staticClass:"col-3"},[e("h5",[t._v("Status")]),e("p",[t._v(t._s(t.details.status))])]),e("hr"),e("div",{staticClass:"col-4"},[e("h5",[t._v("Min Publish Year")]),e("p",[t._v(t._s(t.details.year))])]),e("div",{staticClass:"col-4"},[e("h5",[t._v("Copies")]),e("p",[t._v(t._s(t.details.copies))])]),t.details.requestedBy?e("div",{staticClass:"col-3"},[e("h5",[t._v("Requested By")]),e("p",[t._v(t._s(t.details.requestedBy.user.firstname)+" "+t._s(t.details.requestedBy.user.lastname))])]):t._e(),e("div",{staticClass:"col-12"},[e("h5",[t._v("Description")]),e("p",[t._v(t._s(t.details.description))])]),e("div",{staticClass:"col-3"},[e("h5",[t._v("Requested Date")]),e("p",[t._v(t._s(t._f("formatDate")(t.details.created_at)))])]),t.details.requestHandleBy?e("div",{staticClass:"col-3"},[e("h5",[t._v("Owned By")]),e("p",[t._v(t._s(t.details.requestHandleBy.firstname)+" "+t._s(t.details.requestHandleBy.lastname))])]):t._e(),t.details.dateOwned?e("div",{staticClass:"col-3"},[e("h5",[t._v("Date Owned")]),e("p",[t._v(t._s(t._f("formatDate")(t.details.dateOwned)))])]):t._e(),e("div",{staticClass:"col-3"},[e("h5",[t._v("Request Duration")]),e("p",[t._v(t._s(t.details.durationOfRequest))])]),t.details.requestedBy?e("div",{staticClass:"col-3"},[e("h5",[t._v("School")]),e("p",[t._v(t._s(t.details.requestedBy.school))])]):t._e(),"Book Request"==t.details.status?e("div",{staticClass:"col-12"},[t.authenticated?e("button",{staticClass:"relax-left button medium rounded bkg-theme bkg-hover-theme color-white color-hover-white float-right",attrs:{type:"button",disabled:t.submitting},on:{click:function(s){return t.ownedBookReq(t.details._id)}}},[t._v("Owned Request")]):t._e()]):t._e()])])]):t._e()])])},i=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"section-block landing-bg",attrs:{id:"page-header"}},[e("div",{staticClass:"row flex"},[e("div",{staticClass:"column width-8 push-2"},[e("div",{staticClass:"feature-content"},[e("div",{staticClass:"feature-content-inner center"},[e("h1",{staticClass:"color-white mb-0 font-mont"},[t._v("Book Details")])])])])])])}],l=e("678e"),o={data:function(){return{field1:"123 test st",field2:null,field3:null,street:null,addr2:null,city:null,state:null,zip:null,country:null,form:{street:null,addr2:null,city:null,state:null,zip:null,country:null},submitting:!1,details:{}}},methods:{ownedBookReq:function(t){var s=this;this.submitting=!0;var e={id:t,status:"Owned"};l["a"].post("/books/updateStatus/",e).then(function(t){s.submitting=!1,s.$toastr("success",t.data.message,"status"),s.$router.push("/books")}).catch(function(t){s.submitting=!1,console.log("Error",t.statusText)})},getPic:function(t){return"http://efiwe.org:3100/"+t}},created:function(){var t=this,s=this.$route.params.id;if(null==s)return this.$toastr("error","Invalid parameters","status"),void this.$router.push("/books");l["a"].get("/books/bookById/".concat(s)).then(function(s){t.details=s.data,console.log("result",t.details)}).catch(function(t){console.log(t)})},computed:{authenticated:function(){var t=JSON.parse(localStorage.getItem("loginUser")),s=t||"{}";return console.log("user",s),3!==s.role_id}}},d=o,n=e("2877"),c=Object(n["a"])(d,a,i,!1,null,null,null);s["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d0cc015.3fbaf0eb.js.map