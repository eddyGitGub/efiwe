{"version":3,"sources":["webpack:///./src/views/BookDetails.vue?5d0b","webpack:///src/views/BookDetails.vue","webpack:///./src/views/BookDetails.vue?c210","webpack:///./src/views/BookDetails.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_m","staticClass","attrs","id","src","getPic","details","bookImage","alt","staticStyle","width","_v","_s","field","type","status","year","copies","requestedBy","user","firstname","lastname","_e","description","_f","created_at","requestHandleBy","dateOwned","durationOfRequest","school","disabled","submitting","on","click","$event","ownedBookReq","_id","staticRenderFns","BookDetailsvue_type_script_lang_js_","data","field1","field2","field3","street","addr2","city","state","zip","country","form","methods","_this","model","efiwe","post","then","res","$toastr","message","$router","push","catch","err","console","log","statusText","index","created","_this2","$route","params","get","concat","computed","authenticated","userData","JSON","parse","localStorage","getItem","auth","role_id","views_BookDetailsvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d0cc015.3fbaf0eb.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._m(0),_c('div',{staticClass:\"top-border animated fadeInUp\",attrs:{\"id\":\"dashboard\"}},[(_vm.details)?_c('div',{staticClass:\"card w-85\"},[_c('div',{staticClass:\"search-banner\"},[_c('a',[_c('div',{staticClass:\"offset-8 event-thumb-img\"},[_c('div',{staticClass:\"view overlay\"},[_c('img',{staticClass:\"full-width search-img card-img-top\",attrs:{\"src\":_vm.getPic(_vm.details.bookImage),\"alt\":\"\"}})])])])]),_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"row mx-auto\",staticStyle:{\"width\":\"70%\"}},[_c('div',{staticClass:\"col-4\"},[_c('h5',[_vm._v(\"Field\")]),_c('p',[_vm._v(_vm._s(_vm.details.field))])]),_c('div',{staticClass:\"col-4\"},[_c('h5',[_vm._v(\"Type\")]),_c('p',[_vm._v(_vm._s(_vm.details.type))])]),_c('div',{staticClass:\"col-3\"},[_c('h5',[_vm._v(\"Status\")]),_c('p',[_vm._v(_vm._s(_vm.details.status))])]),_c('hr'),_c('div',{staticClass:\"col-4\"},[_c('h5',[_vm._v(\"Min Publish Year\")]),_c('p',[_vm._v(_vm._s(_vm.details.year))])]),_c('div',{staticClass:\"col-4\"},[_c('h5',[_vm._v(\"Copies\")]),_c('p',[_vm._v(_vm._s(_vm.details.copies))])]),(_vm.details.requestedBy)?_c('div',{staticClass:\"col-3\"},[_c('h5',[_vm._v(\"Requested By\")]),_c('p',[_vm._v(_vm._s(_vm.details.requestedBy.user.firstname)+\" \"+_vm._s(_vm.details.requestedBy.user.lastname))])]):_vm._e(),_c('div',{staticClass:\"col-12\"},[_c('h5',[_vm._v(\"Description\")]),_c('p',[_vm._v(_vm._s(_vm.details.description))])]),_c('div',{staticClass:\"col-3\"},[_c('h5',[_vm._v(\"Requested Date\")]),_c('p',[_vm._v(_vm._s(_vm._f(\"formatDate\")(_vm.details.created_at)))])]),(_vm.details.requestHandleBy)?_c('div',{staticClass:\"col-3\"},[_c('h5',[_vm._v(\"Owned By\")]),_c('p',[_vm._v(_vm._s(_vm.details.requestHandleBy.firstname)+\" \"+_vm._s(_vm.details.requestHandleBy.lastname))])]):_vm._e(),(_vm.details.dateOwned)?_c('div',{staticClass:\"col-3\"},[_c('h5',[_vm._v(\"Date Owned\")]),_c('p',[_vm._v(_vm._s(_vm._f(\"formatDate\")(_vm.details.dateOwned)))])]):_vm._e(),_c('div',{staticClass:\"col-3\"},[_c('h5',[_vm._v(\"Request Duration\")]),_c('p',[_vm._v(_vm._s(_vm.details.durationOfRequest))])]),(_vm.details.requestedBy)?_c('div',{staticClass:\"col-3\"},[_c('h5',[_vm._v(\"School\")]),_c('p',[_vm._v(_vm._s(_vm.details.requestedBy.school))])]):_vm._e(),(_vm.details.status == 'Book Request')?_c('div',{staticClass:\"col-12\"},[(_vm.authenticated)?_c('button',{staticClass:\"relax-left button medium rounded bkg-theme bkg-hover-theme color-white color-hover-white float-right\",attrs:{\"type\":\"button\",\"disabled\":_vm.submitting},on:{\"click\":function($event){return _vm.ownedBookReq(_vm.details._id)}}},[_vm._v(\"Owned Request\")]):_vm._e()]):_vm._e()])])]):_vm._e()])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"section-block landing-bg\",attrs:{\"id\":\"page-header\"}},[_c('div',{staticClass:\"row flex\"},[_c('div',{staticClass:\"column width-8 push-2\"},[_c('div',{staticClass:\"feature-content\"},[_c('div',{staticClass:\"feature-content-inner center\"},[_c('h1',{staticClass:\"color-white mb-0 font-mont\"},[_vm._v(\"Book Details\")])])])])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div id=\"page-header\" class=\"section-block landing-bg\">\n      <div class=\"row flex\">\n        <div class=\"column width-8 push-2\">\n          <div class=\"feature-content\">\n            <div class=\"feature-content-inner center\">\n              <h1 class=\"color-white mb-0 font-mont\">Book Details</h1>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div id=\"dashboard\" class=\"top-border animated fadeInUp\">\n      <div class=\"card w-85\" v-if=\"details\">\n        <div class=\"search-banner\">\n          <a>\n            <div class=\"offset-8 event-thumb-img\">\n              <div class=\"view overlay\">\n                <img\n                  class=\"full-width search-img card-img-top\"\n                  :src=\"getPic(details.bookImage)\"\n                  alt\n                >\n              </div>\n            </div>\n          </a>\n        </div>\n        <!-- <div class=\"view overlay\">\n          <img\n            :src=\"getPic(details.bookImage)\"\n            class=\"full-width search-img card-img-top\"\n            alt=\"...\"\n          >\n        </div>-->\n\n        <div class=\"card-body\">\n          <div class=\"row mx-auto\" style=\"width: 70%;\">\n            <div class=\"col-4\">\n              <h5>Field</h5>\n              <p>{{details.field}}</p>\n            </div>\n            <div class=\"col-4\">\n              <h5>Type</h5>\n              <p>{{details.type}}</p>\n            </div>\n            <div class=\"col-3\">\n              <h5>Status</h5>\n              <p>{{details.status}}</p>\n            </div>\n            <hr>\n            <div class=\"col-4\">\n              <h5>Min Publish Year</h5>\n              <p>{{details.year}}</p>\n            </div>\n            <div class=\"col-4\">\n              <h5>Copies</h5>\n              <p>{{details.copies}}</p>\n            </div>\n            <div class=\"col-3\" v-if=\"details.requestedBy\">\n              <h5>Requested By</h5>\n              <p>{{ details.requestedBy.user.firstname}} {{ details.requestedBy.user.lastname}}</p>\n            </div>\n            <div class=\"col-12\">\n              <h5>Description</h5>\n              <p>{{ details.description}}</p>\n            </div>\n            <div class=\"col-3\">\n              <h5>Requested Date</h5>\n              <p>{{ details.created_at | formatDate}}</p>\n            </div>\n            <div class=\"col-3\" v-if=\"details.requestHandleBy\">\n              <h5>Owned By</h5>\n              <p>{{ details.requestHandleBy.firstname}} {{ details.requestHandleBy.lastname}}</p>\n            </div>\n            <div class=\"col-3\" v-if=\"details.dateOwned\">\n              <h5>Date Owned</h5>\n              <p>{{ details.dateOwned | formatDate}}</p>\n            </div>\n            <div class=\"col-3\">\n              <h5>Request Duration</h5>\n              <p>{{ details.durationOfRequest}}</p>\n            </div>\n            <div class=\"col-3\" v-if=\"details.requestedBy\">\n              <h5>School</h5>\n              <p>{{ details.requestedBy.school}}</p>\n            </div>\n            <div class=\"col-12\" v-if=\"details.status == 'Book Request'\">\n              <button\n                type=\"button\"\n                v-if=\"authenticated\"\n                class=\"relax-left button medium rounded bkg-theme bkg-hover-theme color-white color-hover-white float-right\"\n                :disabled=\"submitting\"\n                @click=\"ownedBookReq(details._id)\"\n              >Owned Request</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport axios from \"../api/efiwe\";\nexport default {\n  data() {\n    return {\n      field1: \"123 test st\",\n      field2: null,\n      field3: null,\n      street: null,\n      addr2: null,\n      city: null,\n      state: null,\n      zip: null,\n      country: null,\n      form: {\n        street: null,\n        addr2: null,\n        city: null,\n        state: null,\n        zip: null,\n        country: null\n      },\n      submitting: false,\n      details: {}\n    };\n  },\n  methods: {\n    ownedBookReq(id) {\n      this.submitting = true;\n      const model = {\n        id: id,\n        status: \"Owned\"\n      };\n      axios\n        .post(\"/books/updateStatus/\", model)\n        .then(res => {\n          this.submitting = false;\n          this.$toastr(\"success\", res.data.message, \"status\");\n          this.$router.push(\"/books\");\n        })\n        .catch(err => {\n          this.submitting = false;\n          console.log(\"Error\", err.statusText);\n        });\n    },\n    getPic(index) {\n      return \"http://efiwe.org:3100/\" + index;\n    }\n  },\n  created() {\n    const id = this.$route.params.id;\n    if (id == null) {\n      this.$toastr(\"error\", \"Invalid parameters\", \"status\");\n      this.$router.push(\"/books\");\n      return;\n    }\n    axios\n      .get(`/books/bookById/${id}`)\n      .then(res => {\n        this.details = res.data;\n        console.log(\"result\", this.details);\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  },\n  computed: {\n    authenticated() {\n      const userData = JSON.parse(localStorage.getItem(\"loginUser\"));\n      const auth = userData || \"{}\";\n      console.log(\"user\", auth);\n      return auth.role_id !== 3;\n    }\n  }\n};\n</script>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BookDetails.vue?vue&type=template&id=47ac7cbd&\"\nimport script from \"./BookDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./BookDetails.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}